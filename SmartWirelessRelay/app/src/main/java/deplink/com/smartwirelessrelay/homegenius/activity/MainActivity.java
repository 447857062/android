package deplink.com.smartwirelessrelay.homegenius.activity;import android.app.Activity;import android.app.AlertDialog;import android.app.Fragment;import android.app.FragmentTransaction;import android.os.Bundle;import android.os.Handler;import deplink.com.smartwirelessrelay.homegenius.Devices.EllESDK;import deplink.com.smartwirelessrelay.homegenius.Devices.EllE_Listener;import deplink.com.smartwirelessrelay.homegenius.EllESDK.R;import deplink.com.smartwirelessrelay.homegenius.util.IPV4Util;public class MainActivity extends Activity implements EllE_Listener {    private static final String TAG = "MainActivity";    private EllESDK ellESDK;    private HomeFragment mHomeFragment;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        ellESDK = EllESDK.getInstance();        ellESDK.InitEllESDK(this, this);        mHomeFragment=new HomeFragment();        commitFragment(R.id.main_fragment,mHomeFragment);    }    protected void commitFragment(int layout, Fragment newFragment) {        FragmentTransaction transaction = getFragmentManager().beginTransaction();        transaction.replace(layout, newFragment);        transaction.commit();    }    @Override    protected void onRestart() {        super.onRestart();    }    @Override    public void onRecvDeviceIp(final byte[] packet) {        mHandler.post(new Runnable() {            @Override            public void run() {                new AlertDialog                        .Builder(MainActivity.this)                        .setTitle("已探测到中继器设备")                        .setNegativeButton("确定", null)                        .setIcon(android.R.drawable.ic_menu_agenda)                        .setMessage("设备IP:"+ IPV4Util.trans2IpV4Str(packet))                        .show();            }        });    }    @Override    public void onConnectDeviceFail(String ipaddress) {      /*  mHandler.post(new Runnable() {            @Override            public void run() {                new AlertDialog                        .Builder(MainActivity.this)                        .setTitle("")                        .setNegativeButton("确定", null)                        .setIcon(android.R.drawable.ic_menu_agenda)                        .setMessage("设备IP:"+ IPV4Util.trans2IpV4Str(packet))                        .show();            }        });*/    }    private Handler mHandler=new Handler();}